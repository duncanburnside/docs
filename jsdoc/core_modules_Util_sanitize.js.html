<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: core/modules/Util_sanitize.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: core/modules/Util_sanitize.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
/**
 * sanitization string methods
 * @namespace
 * @memberOf Util
 */
Kepler.Util.sanitize = {

	text: function(body) {
		body = _.str.stripTags(body);
		body = _.str.trim(body);

		//body = _.escape(body);
		//TODO more filter msg
		
		return body;
	},

	regExp: function(text) {
		return text &amp;&amp; text.replace(new RegExp("[({[^.$*+?\\\]})]","g"),'');
	},

	name: function(name) {
		name = name || '';
		/*name = name.toLowerCase()
			.replace(/_+/g,' ')
			.replace(/-+/g,' ')
			.replace(/’+/g,'\'')
			.replace(/[^a-z0-9\.'\- ]/g,'');*/

		name = _.str.unescapeHTML(name) || '';
		name = _.str.stripTags(name) || '';
		name = _.str.clean(name) || '';

		return name.substr(0,255);
	},

	/**
	 * return same name with added incremental number at tail
	 * @param  {String} name [description]
	 * @param  {String} sep  [description]
	 * @return {String}      [description]
	 */
	nthName: function(name, sep) {
		sep = sep || '';
		var m = name.match(/([^0-9]+)([0-9]+)$/),
			nameo = m ? m[1] : name,
			n2 = m ? parseInt(m[2],10) : 0,
			n = n2 ? ++n2 : 2;
		return nameo + sep + n;
	},

	username: function(name) {
		name = name || '';

		if(Meteor.isServer &amp;&amp; Latinize)
			name = Latinize(name);

		name = name.toLowerCase()
			.replace(/’+/g,'\'')
			.replace(/[ ]/g,'.')
			.replace(/[^a-z0-9\.\-_]/g,'')
			.replace(/[\.]{2,}/g,'.')
			.replace(/[\-]{2,}/g,'-');
		name = _.str.clean(name) || '';
		return name.substr(0,16);
	},

	fileName: function(name, trimExt) {
		name = name || '';
		name = trimExt ? name.split('.').slice(0, -1).join('.') : name;
		return name.toLowerCase()
			.replace(/ +/g,'_')
			.replace(/[^a-z0-9\\\-\._]/g,'')
			.replace(/\.\./g,'.')
			.replace(/\//g,'');
	},

	fileExt: function(name) {
		return (name.split('.').pop()+"").toLowerCase();
	},

	url: function(url) {
		if(!url.match(/^[a-zA-Z]+:\/\//))
			url = 'http://'+url;
		return url;
	}
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-filters.html">filters</a></li><li><a href="module-Map.html">Map</a></li><li><a href="module-schemas.html">schemas</a></li><li><a href="module-templates.html">templates</a></li></ul><h3>Classes</h3><ul><li><a href="Class.html">Class</a></li><li><a href="Kepler.Place.html">Place</a></li><li><a href="Kepler.User.html">User</a></li></ul><h3>Namespaces</h3><ul><li><a href="Kepler.html">Kepler</a></li><li><a href="Kepler.Cache.html">Cache</a></li><li><a href="Kepler.Plugin.html">Plugin</a></li><li><a href="Kepler.Profile.html">Profile</a></li><li><a href="Kepler.Util.html">Util</a></li><li><a href="Util.Kepler.Util.geo.html">Kepler.Util.geo</a></li><li><a href="Util.Kepler.Util.humanize.html">Kepler.Util.humanize</a></li><li><a href="Util.Kepler.Util.sanitize.html">Kepler.Util.sanitize</a></li><li><a href="Util.Kepler.Util.valid.html">Kepler.Util.valid</a></li></ul><h3>Global</h3><ul><li><a href="global.html#K">K</a></li><li><a href="global.html#placeById">placeById</a></li><li><a href="global.html#placesById">placesById</a></li><li><a href="global.html#userById">userById</a></li><li><a href="global.html#usersById">usersById</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Feb 06 2019 12:28:34 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
